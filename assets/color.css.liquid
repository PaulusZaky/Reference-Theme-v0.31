{% assign scheme_classes = 'body' %}
{% for scheme in settings.color_schemes -%}
  {% assign scheme_classes = scheme_classes | append: ', .color-' | append: scheme.id %}
  {% if forloop.index == 1 -%}
    :root,
  {%- endif %}
  .color-{{ scheme.id }} {
    --color-background: {{ scheme.settings.background }};
  {% if scheme.settings.background_gradient != empty %}
    --gradient-background: {{ scheme.settings.background_gradient }};
  {% else %}
    --gradient-background: {{ scheme.settings.background }};
  {% endif %}
  --color-foreground: {{ scheme.settings.text }};
 }
{% endfor %}

{{ scheme_classes }} {
  color: var(--color-foreground);
  background: var(--gradient-background);
}