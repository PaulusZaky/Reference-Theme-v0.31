:root{
  --screen-width-mobile: 390;
  --screen-width-desktop: 1440;
}

{% for i in 1..9 %}
  {% assign font_weight = i | times: 100 %}
  {% assign font_family = settings.font_family_primary.family %}
  {% assign font = settings.font_family_primary | font_modify: "weight", font_weight %}
  @font-face {
    font-family: {{ font_family }};
    font-weight: {{ font_weight }}
    src: 
      local("{{ font_family }}"),
      local("{{ font_family }}"),
      url("{{ font | font_url }}") format("woff2"),
      url("{{ font | font_url: "woff" }}") format("woff");
  }
{% endfor %}

:root{
  --font-family-primary: {{settings.font_family_primary.family}}, {{settings.font_family_primary.fallback_families}};
  --font-family-secondary: {{settings.font_family_primary.family}}, {{settings.font_family_primary.fallback_families}};
}
/* font style */

{% assign font_styles = "h1,h2,h3,h4,h5,h6,large,p,small" | split: ',' %}

{% for font_style in font_styles %}
  {% assign font_family = 'font_family_' | append: font_style %}
  {% assign font_size = 'font_size_' | append: font_style %}
  {% assign font_size_mobile = 'font_size_' | append: font_style | append: '_mobile' %}
  {% assign line_height = 'line_height_' | append: font_style %}
  {% assign selector = font_style | append: ', .' | append: font_style %}
  {% if font_style == 'p' %}
    {% assign selector = selector | prepend: 'body, ' %}
  {% endif %}
  {{selector}}{
    --font-size: {{ settings[font_size] | append: 'px' }};
    --font-size-mobile: {{ settings[font_size_mobile] | append: 'px' }};
    --font-size-max: {{ settings[font_size] }};
    --font-size-min: {{ settings[font_size_mobile] }};
    --font-size-optimal: calc(var(--font-size-min) + (var(--font-size-max) - var(--font-size-min)) * (100vw - var(--screen-width-mobile)) / (var(--screen-width-desktop) - var(--screen-width-mobile)));
    font-family: var({{settings[font_family]}});
    font-size: clamp(var(--font-size-mobile), var(--font-size-optimal), var(--font-size));
    font-weight: normal;
    line-height: {{settings[line_height]}};
    letter-spacing: 1.05px;
    margin: 0;
    color: currentColor;
    {% comment %} @media (max-width: 750px){
      font-size: var(--font-size-mobile);
    } {% endcomment %}
  }
{% endfor %}
