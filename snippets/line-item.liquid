
<div class="line-item flex row">
  <div class="line-item-image">
    {% render 'image-element', image: line_item.image, aspect_ratio: 1, fit: 'cover', sizes: "100px" %}
  </div>
  <div class="flex row space-between full-width">
    <div class="flex col space-between">
      <div class="flex col">
        <p class="h6">{{ line_item.product.title }}</p>
        <div class="flex row middle line-item-options">
          {% for option in line_item.variant.options %}
            {% assign option_name = line_item.product.options_with_values[forloop.index0].name %}
            <p class="p">
              <span>{{ option_name }}</span>:&nbsp;<span>{{ option.name }}</span>
            </p>
            {% unless forloop.last %}
              <div class="line-item-divider"></div>
            {% endunless %}
          {% endfor %}
        </div>
      </div>
      <div class="line-item-discount-applications">
        {% for discount_allocation in line_item.line_level_discount_allocations %}
            {% render 'discount-application', discount_allocation: discount_allocation.discount_application %}
        {% endfor %}
      </div>
      {% assign inventory_quantity = line_item.variant.inventory_quantity | at_most: 999 %}
      {% if inventory_quantity < 0 %}
        {% assign inventory_quantity = 999 %}
      {% endif %}
      <quantity-rocker
        min="0"
        class="p"
        max="{{ inventory_quantity }}"
        value="{{ line_item.quantity }}"
        name="updates[]"
        data-line-item-key="{{ line_item.key }}">
      </quantity-rocker>
    </div>
    <div class="flex col space-between between right">
      <a href="{{ line_item.url_to_remove }}" data-line-item-key="{{ line_item.key }}" name="line-item-remove">
        {{ "delete.svg" | inline_asset_content }}
      </a>
      <p class="p">
        {% assign highest_price = line_item.original_price %}
        {% if highest_price < line_item.variant.compare_at_price %}
          {% assign highest_price = line_item.variant.compare_at_price %}
        {% endif %}
        {% if highest_price < line_item.variant.price %}
          {% assign highest_price = line_item.variant.price %}
        {% endif %}
        {% if line_item.final_price != highest_price %}
          <span class="line-item-price-original">{{ highest_price | money }}</span>
        {% endif %}
        <span class="line-item-price-final {% if line_item.final_price != highest_price %}line-item-price-final--discounted{% endif %}">
          {{- line_item.final_price | money -}}
        </span>
      </p>
    </div>
  </div>
</div>